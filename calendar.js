(()=>{var t={340:t=>{t.exports=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}},647:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},504:t=>{function e(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function c(t){e(a,o,i,c,s,"next",t)}function s(t){e(a,o,i,c,s,"throw",t)}c(void 0)}))}}},372:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},816:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},620:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},422:(t,e,n)=>{var r=n(276);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},66:(t,e,n)=>{var r=n(873),o=n(647);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},276:t=>{function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,r)}t.exports=e},873:t=>{function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},772:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=l(t,e,n);if("normal"===s.type){if(r=n.done?h:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={};function y(){}function m(){}function g(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&r.call(k,i)&&(b=k);var x=g.prototype=y.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function I(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:e,done:!0}}return m.prototype=x.constructor=g,g.constructor=m,m.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(L.prototype),L.prototype[a]=function(){return this},t.AsyncIterator=L,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new L(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),s(x,c,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},135:(t,e,n)=>{t.exports=n(772)}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(504),e=n.n(t),r=n(372),o=n.n(r),i=n(816),a=n.n(i),c=n(135),s=n.n(c),u=n(340),l=n.n(u);const f=new(function(){function t(){if(o()(this,t),this.apiBase="http://158.101.166.74:8080/api/data/anpilov_a/",t.instance)return t.instance;t.instance=this}var n,r,i;return a()(t,[{key:"getEventsData",value:(i=e()(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this.apiBase).concat(e));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", received ").concat(n.status));case 5:return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",null===r?[]:r.map((function(t){var e=t.id,n=t.data;return{id:e,data:JSON.parse(n)}})));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"deleteEvent",value:(r=e()(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this.apiBase).concat(e),{method:"DELETE"});case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", received ").concat(n.status));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"setEvent",value:(n=e()(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this.apiBase).concat(e),{method:"POST",body:JSON.stringify({data:JSON.stringify(n)})});case 2:if((r=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", received ").concat(r.status));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}]),t}());const d=new(function(){function t(){o()(this,t)}var n,r;return a()(t,[{key:"successfulResponseNotification",value:(r=e()(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.responseNotification=document.querySelector(".server-notification"),this.responseNotification.style.visibility="visible",setTimeout((function(){e.responseNotification.style.visibility="hidden"}),2e3);case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"errorResponseNotification",value:(n=e()(s().mark((function t(e){var n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.responseNotification=document.querySelector(".server-notification"),this.responseNotification.classList.add("err"),this.responseNotification.innerText=e.message,setTimeout((function(){n.responseNotification.style.visibility="hidden"}),2e3);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}]),t}());function p(t,n,r){var o=r.value;return r.value=e()(s().mark((function t(){var e,n,r,i,a=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,e=a.length,n=new Array(e),r=0;r<e;r++)n[r]=a[r];return t.next=4,o.apply(this,n);case 4:return i=t.sent,d.successfulResponseNotification(),t.abrupt("return",i);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",d.errorResponseNotification(t.t0));case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),r}var h,v,y,m,g,b=(y=v=function(){function t(){o()(this,t)}var n,r,i,c;return a()(t,[{key:"checkMode",value:function(){return!1===t.adminMode&&(this.modeStyle="display:none"),this.modeStyle}},{key:"createFilterSelect",value:function(){var t=this;this.checkMode();var e=F("people"),n=F("filterSelectedId");return this.options="",e.forEach((function(e){t.options+="<option ".concat(n===e.id?"selected":""," value='").concat(e.id,"'>").concat(e.name,"</option>")})),"\n        <select id=\"participants-filter\">\n            <option value='0' ".concat(0===n?"selected":"",">All members</option>\n            ").concat(this.options,'\n        </select>\n        <button id="new-event" style=').concat(this.modeStyle,">New event +</button>\n            ")}},{key:"getWeekdaysMarkup",value:function(){var t=this,e=F("weekdays");return this.result='<div class="time-header">Time</div>',e.forEach((function(e){t.result+='<div class= "day">'.concat(e,"</div> ")})),this.result}},{key:"getTimeslotsMarkup",value:function(){var t=this,e=F("timeslots");return this.result="",e.forEach((function(e){t.result+='<div class= "time">'.concat(e,"</div>")})),this.result}},{key:"getCalendarBodyMarkup",value:(c=e()(s().mark((function t(){var e,n,r,o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.checkMode(),t.next=3,this.filterEvent();case 3:for(e=t.sent,this.result="",n=function(t){for(var n=function(n){var r=e.find((function(e){return e.data.weekday===n&&e.data.timeslot===t}));o.result+=r?'<div class="active-event" value="'.concat(r.data.title,'"> ').concat(r.data.title,'\n                    <button class="delete-button" id=\'').concat(r.id,"' style=").concat(o.modeStyle,">X</button></div>"):"<div></div>"},r=0;r<5;r+=1)n(r)},r=0;r<9;r+=1)n(r);return t.abrupt("return",this.result);case 8:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"setupPageListeners",value:function(){var t=document.getElementById("new-event"),e=document.getElementById("participants-filter"),n=document.querySelectorAll(".delete-button");t.addEventListener("click",(function(){return C("componentForRenderName","createEvent")}));for(var r=0;r<n.length;r+=1)n[r].addEventListener("click",this.deleteEvent);e.addEventListener("change",(function(t){C("filterSelectedId",+t.target.value)}))}},{key:"deleteEvent",value:(i=e()(s().mark((function t(n){var r,o,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getEventsData("/events/");case 2:this.events=t.sent,r=document.getElementById("delete-message"),o=document.getElementById("delete-title"),i=n.target.parentNode.attributes.value.value,o.innerHTML=i,r.style.display="block",a=document.getElementById("cancel-delete"),c=document.getElementById("confirm-delete"),a.addEventListener("click",(function(){r.style.display="none"})),c.addEventListener("click",e()(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.deleteEvent("events/".concat(n.target.attributes.id.value));case 2:r.style.display="none",C("componentForRenderName","calendar");case 4:case"end":return t.stop()}}),t)}))));case 12:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"filterEvent",value:(r=e()(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getEventsData("events");case 2:if(e=t.sent,0!==(n=F("filterSelectedId"))){t.next=6;break}return t.abrupt("return",e);case 6:return this.filteredEvents=e.filter((function(t){return t.data.participantsId.some((function(t){return t===n}))})),t.abrupt("return",this.filteredEvents);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"render",value:(n=e()(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0='\n    <p class="server-notification">A connection was successfully established with the server</p>\n    <div class= "calendar-component" >\n        <div class="header">\n            <h1>Calendar</h1>\n            <div class="filter">\n                    '.concat(this.createFilterSelect(),'\n            </div>\n            </div>\n        <div class="calendar">\n            <div class="weekdays">\n                    ').concat(this.getWeekdaysMarkup(),'\n            </div>\n            <div class="time-column">\n                    ').concat(this.getTimeslotsMarkup(),"\n            </div>\n            <div id='events-body'>\n                   "),t.next=3,this.getCalendarBodyMarkup();case 3:return t.t1=t.sent,t.abrupt("return",t.t0.concat.call(t.t0,t.t1,'\n            </div>\n        </div>\n            <div id="delete-message">\n                 <p>Are you sure want to delete "<span id="delete-title"></span>" event?</p>\n                <div>\n                    <button id="cancel-delete">No</button>\n                    <button id="confirm-delete">Yes</button>\n                </div>\n            </div>\n    </div>\n                '));case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),v.adminMode=null,h=y,l()(h.prototype,"deleteEvent",[p],Object.getOwnPropertyDescriptor(h.prototype,"deleteEvent"),h.prototype),h),w=function t(e,n,r,i){o()(this,t),this.title=e,this.timeslot=n,this.weekday=r,this.participantsId=i},k=(m=function(){function t(){o()(this,t)}var n;return a()(t,[{key:"createToast",value:function(){return this.result='\n        <p class="toast">Failed to create an event. Time slot is already booked.<button class="toast-close">X</button></p>\n      ',this.result}},{key:"createInput",value:function(){return this.result='\n    <label for="event-name">Name of the event:</label>\n    <input id="event-name" type="text" maxlength="40" ><br>\n    ',this.result}},{key:"createPeopleSelect",value:function(){var t=this,e=F("people");return this.options="",e.forEach((function(e){t.options+="<option value='".concat(e.id,"'>").concat(e.name,"</option>")})),'\n        <label for="participants">Participants:</label>\n        <select id="participants" multiple>\n            <option value=\'0\'selected>All members</option>\n            '.concat(this.options,"\n        </select><br>")}},{key:"createWeekdaySelect",value:function(){var t=F("weekdays");this.options="";for(var e=0;e<t.length;e+=1)this.options+="<option value=".concat(e,">").concat(t[e],"</option>");return'\n        <label for="select-day">Day:</label>\n        <select id ="select-day">\n        '.concat(this.options,"\n        </select><br>")}},{key:"createTimeSelect",value:function(){var t=F("timeslots");this.options="";for(var e=0;e<t.length;e+=1)this.options+="<option value=".concat(e,">").concat(t[e],"</option>");return'\n        <label for="select-time">Time:</label>\n        <select id="select-time">\n        '.concat(this.options,"\n        </select><br>")}},{key:"createButtons",value:function(){return this.result='\n        <div class="buttons">\n        <button id="cancel">Cancel</button>\n        <button id="create">Create</button>\n        </div>',this.result}},{key:"setupPageListeners",value:function(){var t=this,e=document.querySelector(".toast-close"),n=document.getElementById("create"),r=document.getElementById("cancel");e.addEventListener("click",(function(){return t.hideToast()})),n.addEventListener("click",(function(e){e.preventDefault(),t.settingNewEvent()})),r.addEventListener("click",(function(t){t.preventDefault(),C("componentForRenderName","calendar")}))}},{key:"settingNewEvent",value:(n=e()(s().mark((function t(){var e,n,r,o,i,a,c,u,l,d,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.eventObj={},e=document.getElementById("event-name").value,n=document.getElementById("participants").children,r=[],o=0;o<n.length;o+=1)n[o].selected&&r.push(+n[o].attributes.value.value);for(i=document.getElementById("select-day").children,a="",c=0;c<i.length;c+=1)i[c].selected&&(a=+i[c].attributes.value.value);for(u=document.getElementById("select-time").children,l="",d=0;d<u.length;d+=1)u[d].selected&&(l=+u[d].attributes.value.value);return t.next=13,f.getEventsData("/events/");case 13:if(!t.sent.find((function(t){return t.data.weekday===a&&t.data.timeslot===l}))){t.next=20;break}document.querySelector(".toast").style.visibility="visible",t.next=30;break;case 20:if(e){t.next=26;break}(p=document.getElementById("event-name")).setAttribute("placeholder","Required field"),p.classList.add("empty-field"),t.next=30;break;case 26:return this.eventObj=new w(e,l,a,r),t.next=29,f.setEvent("events",this.eventObj);case 29:C("componentForRenderName","calendar");case 30:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"hideToast",value:function(){this.toast=document.querySelector(".toast"),this.toast.style.visibility="hidden"}},{key:"render",value:function(){return'\n    <p class="server-notification">A connection was successfully established with the server</p>\n    <div class="create-event">\n       '.concat(this.createToast(),"\n      <form>\n        ").concat(this.createInput(),"\n        ").concat(this.createPeopleSelect(),"\n        ").concat(this.createWeekdaySelect(),"\n        ").concat(this.createTimeSelect(),"\n        ").concat(this.createButtons(),"\n      </form>\n    </div>\n        ")}}]),t}(),l()(m.prototype,"settingNewEvent",[p],Object.getOwnPropertyDescriptor(m.prototype,"settingNewEvent"),m.prototype),m),x=function(){function t(){o()(this,t)}return a()(t,[{key:"createLoginWindow",value:function(){var t=this,e=F("people");return this.options="",e.forEach((function(e){t.options+="<option value='".concat(e.id,"'>").concat(e.name,"</option>")})),'\n    <div id="login-window">\n    <h1>Please authorise</h1>\n    <select id="login-select">'.concat(this.options,'</select>\n    <div><button id="login-button">Confirm</button></div>\n    </div>\n    ')}},{key:"setupPageListeners",value:function(){document.getElementById("login-button").addEventListener("click",this.loginEvent)}},{key:"loginEvent",value:function(){this.people=F("people");var t=document.getElementById("login-select").value;this.people.find((function(e){return e.id===+t&&e.admin}))?b.adminMode=!0:b.adminMode=!1,C("componentForRenderName","calendar")}},{key:"render",value:function(){return"\n    ".concat(this.createLoginWindow(),"\n")}}]),t}(),E=new(g=function(){function t(){o()(this,t),this.componentsMap={calendar:new b,createEvent:new k,loginWindow:new x}}var n;return a()(t,[{key:"checkComponentForRender",value:function(){var t=this.componentsMap[F("componentForRenderName")];return t instanceof b?this.calendarRender():(t&&t.render&&(document.getElementById("application").innerHTML=t.render()),"<div>Sorry something went wrong</div>")}},{key:"calendarRender",value:(n=e()(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.componentsMap[F("componentForRenderName")],t.next=3,e.render();case 3:document.getElementById("application").innerHTML=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setupPageListeners",value:function(){var t=this.componentsMap[F("componentForRenderName")];t&&t.setupPageListeners&&t.setupPageListeners()}}]),t}(),l()(g.prototype,"calendarRender",[p],Object.getOwnPropertyDescriptor(g.prototype,"calendarRender"),g.prototype),g),L=new(function(){function t(){o()(this,t),this.callbacks={}}return a()(t,[{key:"on",value:function(t,e){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e)}},{key:"emit",value:function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){return t(e)}))}}]),t}());L.on("storeChanged",e()(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.checkComponentForRender();case 2:setTimeout(E.setupPageListeners.call(E),1);case 3:case"end":return t.stop()}}),t)}))));const O=L;var N=n(422),S=n.n(N),P=n(66),I=n.n(P),j=n(620),T=n.n(j),R=function t(e){o()(this,t),t.counterId+=1,this.id=t.counterId,this.name=e};function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T()(t);if(e){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I()(this,n)}}R.counterId=1;var _=[new(function(t){S()(n,t);var e=B(n);function n(t){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o()(this,n),(r=e.call(this)).name=t,r.admin=i,r}return n}(R))("Alex"),new R("Anastasia"),new R("Dmitriy")],M={},F=function(t){return M[t]},C=function(t,e){M[t]=e,O.emit("storeChanged")};M={weekdays:["Monday","Tuesday","Wednesday","Thursday","Friday"],timeslots:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],people:[].concat(_),componentForRenderName:"loginWindow",filterSelectedId:0},O.emit("storeChanged")})()})();